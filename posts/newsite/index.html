<!doctype html><html lang=en-us><head><title>Migrating To a New Site // Marcus Kok</title><link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.101.0"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="MarcusK"><meta name=description content><link rel=stylesheet href=https://marcusk19.github.io/css/main.min.4a7ec8660f9a44b08c4da97c5f2e31b1192df1d4d0322e65c0dbbc6ecb1b863f.css><meta name=twitter:card content="summary"><meta name=twitter:title content="Migrating To a New Site"><meta name=twitter:description content="Wordpress has been excellent for getting my site up and running. It makes it easy to change the look, theme, and content of your site. However, it comes with a few inconveniences that I have noticed during these last months:
Wordpress comes with a lot of bloat. Things like SEO optimization and OptinMonster, which may be relevant to other people but not for my uses.
Forms that allowed comments underneath my posts led to a few bots spamming me."><meta property="og:title" content="Migrating To a New Site"><meta property="og:description" content="Wordpress has been excellent for getting my site up and running. It makes it easy to change the look, theme, and content of your site. However, it comes with a few inconveniences that I have noticed during these last months:
Wordpress comes with a lot of bloat. Things like SEO optimization and OptinMonster, which may be relevant to other people but not for my uses.
Forms that allowed comments underneath my posts led to a few bots spamming me."><meta property="og:type" content="article"><meta property="og:url" content="https://marcusk19.github.io/posts/newsite/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-06-14T09:28:51-04:00"><meta property="article:modified_time" content="2022-06-14T09:28:51-04:00"></head><body><header class=app-header><a href=https://marcusk19.github.io/><img class=app-header-avatar src=/avatar.jpg alt=MarcusK></a><h1>Marcus Kok</h1><nav class=app-header-menu><a class=app-header-menu-item href=/about/>About</a>
|
<a class=app-header-menu-item href=/resume/>CV</a>
|
<a class=app-header-menu-item href=/>Posts</a></nav><p>I like to code and break things</p><div class=app-header-social><a href=https://github.com/Marcusk19 target=_blank rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>My Github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://www.linkedin.com/in/marcus-kok-9a80551a3/ target=_blank rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-linkedin"><title>LinkedIn</title><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>Migrating To a New Site</h1><div class=post-meta><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Jun 14, 2022</div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>5 min read</div></div></header><div class=post-content><p>Wordpress has been excellent for getting my site up and running. It makes it easy to change the look, theme, and content of your site. However, it comes with a few inconveniences that I have noticed during these last months:</p><ul><li><p>Wordpress comes with a lot of bloat. Things like SEO optimization and OptinMonster, which may be relevant to other people but not for my uses.</p></li><li><p>Forms that allowed comments underneath my posts led to a few bots spamming me.</p></li><li><p>Themes did not look as clean as I would like them to be.</p></li></ul><p>While some of these things could probably be changed through me just getting more familiar with Wordpress, I wanted to move towards a simpler way of maintaining my website. Ideally, I wanted to write posts on my local machine, and then pushed them to my website when ready.</p><p>I found this open source project called Hugo, which allows you to write files using markdown syntax and converts them to HTML/CSS format to serve as a static site. This was perfect for me, because when boiled down to its simplest form my website&rsquo;s only purpose was to serve a couple pages. In other words, there was no need for me to stick with Wordpress features that were more suitable for online retail sites, which have more complexity than what I was using my site for.</p><h2 id=getting-started>Getting Started</h2><p>Setting up Hugo to serve my websites was very frictionless. Following their <a href=https://gohugo.io/getting-started/quick-start/>quickstart</a> guide had me up and running in only 10 minutes. I had to convert my old posts online to markdown, but that was made easy through a convenient browser extension that downloads webpages to a .md file: <a href="https://chrome.google.com/webstore/detail/markdownload-markdown-web/pcmpcfapbekmbjjkdalcgopdkipoggdi?hl=en-GB">MarkDownload</a>.</p><p>I did have to add my own metadata at the top for my old posts. Typically you would run <code>hugo new posts/my-post.md</code> and the relevant data would be filled in at the top automatically. However, the downloaded files were missing that header.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown><span style=display:flex><span>---
</span></span><span style=display:flex><span>title: &#34;Single GPU passthrough with AMD build&#34;
</span></span><span style=display:flex><span>date: 2022-06-08T21:57:09+00:00
</span></span><span style=display:flex><span>draft: false
</span></span><span style=display:flex><span>---
</span></span></code></pre></div><p>Setting <code>draft: false</code> lets Hugo know to pick up that .md file and serve it when running something like <code>hugo server</code> . Alternatively, passing the -D flag will make hugo serve all draft posts like so: <code>hugo server -D</code>.</p><h2 id=making-it-look-good>Making it Look Good</h2><p>Getting a good theme for my site was a big reason why I wanted to switch. There&rsquo;s a lot of great themes that can be found <a href=https://themes.gohugo.io/>here</a>. I went with <a href=https://themes.gohugo.io/themes/hugo-theme-m10c/>m10c</a> for its simplicity and color scheme.</p><p>Â <code>git submodule add https://github.com/vaga/hugo-theme-m10c.git themes/m10c</code> created a <code>m10c</code> folder in my <code>themes</code> directory. Further down the line I ran into issues with the theme while pushing to GitHub. It complained about the <code>example_site</code> directory, and my workaround was to fork my own copy of the repo and remove <code>example_site</code>. Then I added it to my project under <code>themes/my_m10c</code>.</p><p>I only took a look at this theme, but suspect that the config varies for other ones. Editing the <code>config.toml</code> file is necessary to get your theme to show up.</p><p>Defining theme and menu items (Note: your baseURL should match whatever domain you want pointing to your site):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#a6e22e>baseURL</span> = <span style=color:#e6db74>&#39;https://marcusk19.github.io/&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>languageCode</span> = <span style=color:#e6db74>&#39;en-us&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>title</span> = <span style=color:#e6db74>&#39;Marcus Kok&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>theme</span> = <span style=color:#e6db74>&#34;my_m10c&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>menu</span>]
</span></span><span style=display:flex><span>    [[<span style=color:#a6e22e>menu</span>.<span style=color:#a6e22e>main</span>]]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>identifier</span> = <span style=color:#e6db74>&#34;home&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;Posts&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>url</span> = <span style=color:#e6db74>&#34;/&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>weight</span> = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    [[<span style=color:#a6e22e>menu</span>.<span style=color:#a6e22e>main</span>]]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>identifier</span> = <span style=color:#e6db74>&#34;about&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;About&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>url</span> = <span style=color:#e6db74>&#34;/about/&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>weight</span> = <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    [[<span style=color:#a6e22e>menu</span>.<span style=color:#a6e22e>main</span>]]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>identifier</span> = <span style=color:#e6db74>&#34;resume&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;CV&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>url</span> = <span style=color:#e6db74>&#34;/resume/&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>weight</span> = <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p>To add icons linking to my GitHub and LinkedIn profiles:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>params</span>]
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>author</span> = <span style=color:#e6db74>&#39;MarcusK&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>description</span> = <span style=color:#e6db74>&#39;I like to code and break things&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>menu_item_separator</span> = <span style=color:#e6db74>&#39;|&#39;</span>
</span></span><span style=display:flex><span>    [[<span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>social</span>]]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>icon</span> = <span style=color:#e6db74>&#34;github&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;My Github&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>url</span> = <span style=color:#e6db74>&#34;https://github.com/Marcusk19&#34;</span>
</span></span><span style=display:flex><span>    [[<span style=color:#a6e22e>params</span>.<span style=color:#a6e22e>social</span>]]
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>icon</span> = <span style=color:#e6db74>&#34;linkedin&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;LinkedIn&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>url</span> = <span style=color:#e6db74>&#34;https://www.linkedin.com/in/marcus-kok-9a80551a3/&#34;</span>
</span></span></code></pre></div><p>To change the avatar icon and favicon, I added the images I wanted in the <code>static</code> directory named <code>avatar.jpg</code> and <code>favicon.ico</code> respectively.</p><h2 id=hosting-on-github>Hosting on GitHub</h2><p>I chose to use GitHub pages to host my site because it&rsquo;s free and I can use a custom url for it. According to the guides, I made a <code>gh-pages.yml</code> file and placed it in <code>.github/workflows</code> found in the root directory of my project:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>github pages</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>push</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>branches</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>main </span> <span style=color:#75715e># Set a branch to deploy</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>pull_request</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>deploy</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-20.04</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v2</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>submodules</span>: <span style=color:#66d9ef>true</span>  <span style=color:#75715e># Fetch Hugo themes (true OR recursive)</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>fetch-depth</span>: <span style=color:#ae81ff>0</span>    <span style=color:#75715e># Fetch all history for .GitInfo and .Lastmod</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Setup Hugo</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-hugo@v2</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>hugo-version</span>: <span style=color:#e6db74>&#39;latest&#39;</span>
</span></span><span style=display:flex><span>          <span style=color:#75715e># extended: true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: <span style=color:#ae81ff>hugo --minify</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Deploy</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>peaceiris/actions-gh-pages@v3</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>if</span>: <span style=color:#ae81ff>github.ref == &#39;refs/heads/main&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>github_token</span>: <span style=color:#ae81ff>${{ secrets.GITHUB_TOKEN }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>publish_dir</span>: <span style=color:#ae81ff>./public</span>
</span></span></code></pre></div><p>Once that was done, I committed my changes, ran <code>hugo</code> to build the static files, and pushed it to my repo. GitHub ran a pipeline for my site to get built and deployed. From there I only had to set a custom domain name for it.</p><p>I got a free domain through Hostinger, which was where I got my previous <em>marcuskok.tech</em> domain. Because I didn&rsquo;t want to take down my old site yet, I obtained <em>marcuskok.com</em> free for one year. It took a little fiddling to get it pointing to my new site. What I did was create A records for my domain through Hostinger&rsquo;s management panel that pointed to GitHub&rsquo;s IP addresses. More information can be found <a href=https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain>here</a>.</p><p>Once DNS propagation finished, I now have my new site up at <em>marcuskok.com</em>. I will probably keep the old one around until my free domain ends, at which point I&rsquo;ll move whichever name is cheaper to my main site. Overall, I greatly prefer the simplicity and look of the new site, and am pleased with how easy Hugo makes it to build a website.</p></div><div class=post-footer></div></article></main></body></html>